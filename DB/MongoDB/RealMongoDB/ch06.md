# ch06. 잠금과 트랜잭션
## 6.1 잠금
* ~ MongoDB 2.6(MMAP만 사용)
  * 서버 엔진과 스토리지 엔진 구분이 없음. 
  * 스토리지 엔진 잠금이 없이 MongoDB 서버 잠금(글로벌, DB 수준 락)
  * 공유 잠금(shared lock. S-Lock. 현재 스레드가 참조하고 있는 데이터를 다른 스레드가 변경하지 못하도록 하는것. 다른 스레드 s-lock과 호환됨-> 같은 데이터를 읽기만 하는 경우에는 여러 스레드가 동시에 읽을 수 있음), 배타적 잠금(exclusive lock. X-Lock. 데이터 변경 목적. 현재 스레드가 변경하는 데이터를 다른 데이터가 변경하지 못하도록 막는것 -> 변경중인 데이터를 다른 스레드가 읽지 못하게 함.)
* MongoDB 3.2~(WiredTiger)
  * 오브젝트에 대한 인텐션 잠금 도입

### 6.1.1 MongoDB 엔진의 잠금
* 명시적 잠금
  * 글로벌 잠금
* 묵시적 잠금
  * 글로벌 잠금 외 모든 잠금
  * 쿼리가 실행될 때 자동으로 획득했다가 나중에 자동으로 해제되는 잠금