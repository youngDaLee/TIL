# ch16. 동시성
* 자바 동시성(멀티스레딩) 개요
  * 동시성이란 무엇인가
  * 자바 스레드란 무엇인가
  * 멀티스레딩이란 무엇인가

## 16.1 자바 동시성(멀티스레딩)의 개요
* 프로세스 : 프로그램, 애플리케이션 실행 인스턴스
* 스체드 : 실행 가능한 작업단위... 하위 프로세스. 프로세스는 하나의 메인스레도와 여러 스레드로 구성될 수 있음

프로세스 vs 스레드
* 공통메모리 공간 여부
  * 스레드 : 공통메모리 고유 -> 오버헤드가 적음
  * 프로세스 : 공유하지 않음

* 동시성(concurrency) : 하나의 애플리케이션에서 여러 작업을 관리하는 능력
  * 램이나 어플리케이션은 순차처리(sequential processing, 한 번에 하나의 작업을 처리하는 것)하거나 병행처리(concurrent processing, 동시에 여러 작업 처리하는 것) 할 수 있음
  * 동시성(concurrency) != 병렬성(parallelism) 병렬성은 다른 개별 작업을 동시에 처리하는 능력. 동시성은 많은 일을 한 번에 관리하는 것, 병렬성은 많은 일을 동시에 실행하는것
* 동시성은 멀티스레딩으로 구현 가능
  * 멀티스레딩 : 프로그램, 애플리케이션이 한 번에 2개 이상의 작업을 처리하고 동기화 할 수 있는 기술
  * CPU context switching 이나 time slicing 기법을 활용하여 (가상으로)동시에 실행되는 것 처럼 보이게 할 수 있음

애플리케이션은 동시성과 병렬성 기준으로 아래와 같이 분리됨

| 동시성 | 병렬성 |               예시                |
|:---:|:---:|:-------------------------------:|
|  O  |  X  | 한 번에 2개 이상 작업을 실행하지만 동시에 2개 작업X |
|  X  |  O  | 다중코어 CPU에서 어떤 작업 하위 작업을 동시에 실행  |
|  X  |  X  |      모든 작업을 한 번에 하나씩 순차 실행      |
|  O  |  O  |     다중코어 CPU에서 동시에 여러 작업 실행     |

* 스레드 플(thread pool) : 같은 작업 실행하기 위해 할당된 일련의 작업 스레드. 작업 완료한 스레드는 풀로 반환됨
* 록(lock) : 멀티스레드 환경에서 리소스에 대한 접근을 조정하고 제한할 때 사용

## 16.2 기술 인터뷰
### 16.2.1 스레드 생명 주기 상태
Q) 몇 개의 문장으로 자바 스레드의 상태를 열거하고 설명하세요
* 자바 스레드의 다양한 생명 주기 상태
  * 생성 상태 : 생성 되었지만 시작되지 않은 스레드(`new` 이후 `start` 전)
  * 실행 대기 상태 : `start` 로 메서드 호출 직후. JVM이 스레드 스케줄러가 실행에 필요한 리소스와 시간을 할당하기를 기다리는 스레드는 실행 준비가 되었지만, 실행되지 는 않음
  * 블록 상태 : 동기화 블록이나 I/O작업 스레드가 블록 상태에 들어갈 수 있음
  * 일시 정지 상태(WATTING) : 다른 스레드가 작업 완료를 시간 제한 없이 기다릴 때
  * 일시 정지 상태(TIMED_WATTING) : 다른 스레드 작업 완료까지 명시한 시간 만큼을 기다릴 때
  * 종료 상태 : 비정상 중단/성공적 작업 완료 일 때

### 16.2.2 교착 상태
Q) 교착상태(deadlock)이 무엇인가요
* 어느 한 쪽이 양보해야 다음으로 나아갈 수 있는 상태.

### 16.2.3 경쟁상태
Q) 경쟁상태(race condition)가 무엇인지 설명하세요
* 임계구역(critical section) 을 두고 경쟁하는 상태. 둘 다 내가쓸거야...
* 방지하기 위해 록, 동기화 블록 등을 사용하여 적절하게 동기화 함


## 질문거리
* 프로세스와 스레드의 차이는 무엇인가요?
* 동시성과 병렬성이 어떻게 다른지 설명하세요.
* 자바에서 비동기는 멀티스레딩 일까요 멀티 프로세싱일까요? 그 이유는?
* DB 커넥션을 맺을 때 사용하는 스레드풀도 멀티 스레딩의 개념으로 분류해야 할까요?
